---
title: "(TEMP) Online Video Game Monetization Schemes and Its Relationship to the Consumers"
author: 
  - Tian Yi Zhang
thanks: "Code and data are available at: https://github.com/zhan7818/bdo_monetization"
date: "`r format(Sys.time(), '%d %B %Y')`"
abstract: "Advertisement and monetization schemes are essential to obtaining a stable revenue stream and ensuring the continued surival of an online video game. We obtain data through a survey distributed in several online communities for the massively multiplayer online game known as Black Desert Online and analyze it throuhg several graphs, tables, and a model in this paper. (TODO) Sentence about findings. (TODO) Sentence about implications. (TODO) Keywords:"
output:
  bookdown::pdf_document2
toc: FALSE
bibliography: references.bib
---

```{r setup, include=FALSE, warning=FALSE, message=FALSE}
# Load required packages and read in the data
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(knitr) # for kable()
library(kableExtra)
library(ggplot2) # for graphs
library(modelsummary)
library(cowplot) # for side by side plots

# Variables of class factor must be mutated as such again
cleaned_data <-
  read_csv(here::here("outputs/data/cleaned_data.csv")) |>
  mutate(age_group = as.ordered(age_group)) |>
  mutate(gender = as.factor(gender)) |>
  mutate(character_total = as.ordered(character_total)) |>
  mutate(character_female = as.ordered(character_female)) |>
  mutate(gender_main = as.factor(gender_main)) |>
  mutate(package_free = as.factor(package_free))

# Organize the factor levels of character_female and character_total
cleaned_data <- cleaned_data |>
  mutate(character_female = ordered(character_female,
                                    levels = c("0","1","2","3","4","5","6",
                                               "7","8","9","10","10+"))) |>
  mutate(character_total = ordered(character_total,
                                    levels = c("0","1","2","3","4","5","6",
                                               "7","8","9","10","10+")))
```

# Introduction

Just a decade or two ago, singleplayer-driven content was the predominant
focus in the video game industry. This was mostly a product of the time, as the
infrastructures needed to support online-based video games were yet to be
fully developed. More importantly, what this also meant was a lack of 
post-launch updates being delivered for a game, as developers also lacked means
to deliver constant updates effectively into the hands of the consumers. As a
result, most video games received little to no post-launch updates aside from
one or two major expansions to their games that contained sufficient content
to be put on the shelves as add-ons to the original purchase.
Despite this, consumers back then were generally content with the amount of 
content they received for their purchases.

As the years went by and networking structures matured, however, more and more
video game developers started focusing more on the online aspects of gaming.
The number of multiplayer-focused video games in the market started to steadily
increase. Now, in an era of live service online video games, developers are 
pressured to continuously produce and deliver new and exciting content on a 
consistent schedule in order to compete with other products. This need to
create more content for a game means that development resources are constantly
required, and online focused games can no longer afford to charge their
consumers a simple upfront fee; live service video games must find an effective
and profitable monetization scheme in order to fund their continued development.

The most prominent examples of live service online video games are the massively
multiplayer online role-playing games (MMORPG), a genre of video games known
specifically for its focus on multiplayer. Due to their focus on 
progression-based gameplay, developers of MMORPGs must constantly create new
and refreshing content to add to their games. To subsidize the development
costs that go along with it, developers have created a variety of monetization
models to ensure a steady revenue stream. For example, World of Warcraft, one
of the biggest MMORPGs, relies primarily on a monthly subscription from its
players. Others, such as Lost Ark, adopt a mix of strategies with 
a monthly subscription that grants
massive boosts in-game and an in-game cash shop that allows players to
purchases items for a variety of purposes using real world currencies.
If done properly, an analysis
on the monetization schemes of MMORPGs could have meaningful
implications for future MMORPG developers on how they should monetize their
video games to maximize revenue.

This paper primarily focuses on the MMORPG known as Black Desert Online,
commonly and henceforth referred to as BDO.
as it is MMORPG that utilizes a of mix of upfront cost, subscription and in-game
cash shop. Pearl Abyss, the developers behind Black Desert Online, 
never published any official statistics that touch upon the revenue of
Black Desert Online. As such, the following analysis will rely on data 
collected by the author of this paper.

The remainder of this paper is organized as follows: Section \@ref(data) covers
the survey design, sampling and preliminary analyses of the dataset used in this
paper. Section \@ref(model) details the model used to find possible correlations
between variables in the dataset, the results and implications of which will 
be covered in Section \@ref(results). Any limitations or possible extensions 
of this paper will be discussed in Section \@ref(discussion).

All tables and graphs presented in this paper are produced using the 
statistical programming language `R` [@citeR]. The `knitr` [@citeknitr] and
`kableExtra` [@citeKableE] packages are used for tables, and the `ggplot`
[@citeggplot2] package is used for graphs.

TODO: add in some references that support claims about general transition from 
singleplayer to multiplayer in video game industry.

# Data

## Survey Design

Due to the lack of APIs provided by Pearl Abyss that concerns the subject of
this paper, convenience sampling is used to collect data from the general
playerbase for the game. The survey is created in Google Forms and is
distributed to Black Desert Online players on Steam discussion, Black Desert
Online forum board, and the Black Desert Online subreddit on Reddit. The survey
consists of questions mostly regarding the respondents' amount of spending in
the various monetization models employed by Black Desert Online, as well as
some general background information regarding each respondent and their in-game
characters. The survey questions could be largely divided into the following set
of topics:

* Background characteristics such as age, gender and playtime
* Upfront spending for the game such as the purchase of game packages
* Spending for in-game subscription-esque items using either in-game or real
world currencies
* Opinion on in-game subscription-esque items
* Spending for other general cash shop items in-game using either in-game or
real world currencies

In the post containing the survey on each of the distributed sites mentioned 
above, efforts were made to be
as transparent as possible with the participants: respondents were 
informed of the intended usage for the data collected and were assured that
no information that can be used to identify them will be collected nor
included in the survey and final paper.

## Dataset Cleaning and Description

A total of 212 responses were collected from the survey. The data was exported
to excel [@citeExcel] where the columns names were shortened to be readable.
Two new columns were created from the responses:
* packages_usd: amount in USD spent on purchasing game packages
* packages_free: binary indicator of whether the respondent received the game
for free

The dataset is then cleaned using the statistical programming language R 
[@citeR] and the `janitor` [@citejani] and `dplyr` 
[@citedplyr] package. The `pointblank` [@citePB] package is used to set 
up validation tests for the class and the content of the dataset.
A new variable, `age_group`, is constructed based on the ages of the 
respondents.
The final dataset consists of the following variables:

* `age`: age of the respondent
* `age_group`: age group of the respondent
* `gender`: gender of the respondent; male, female or other
* `character_total`: respondent's total number of characters in Black 
Desert Online
* `character_female`: respondent's total number of female characters in Black
Desert Online, excluding the character classes Tamer and Shai
* `playtime_total`: respondent's total playtime in Black Desert Online
* `playtime_main`: respondent's playtime on their primary character in Black
Desert Online
* `gender_main`: gender of respondent's main character; male or female
* `packages`: the game packages purchased by the respondent
* `packages_usd`: the amount in USD spent purchasing game packages by the
respondent
* `package_free`: binary indicator of whether the respondent received the game
for free
* `importance_vp`: respondent's rating on the importance of Value Pack to their
enjoyment of the game
* `importance_bkom`: respondent's rating on the importance of Blessing of
Kamasylve and Secret Book of Old Moon to their enjoyment of the game
* cm_vp_count: number of Value Packs purchased on the central market by the
respondent
* `cm_bkom_count`: number of Blessing of Kamasylve and Secret Book of Old Moon
purchased on the central market by the respondent
* `ps_vp_usd`: amount in USD spent by the respondent
purchasing Value Packs in the pearl shop
* `ps_bkom_usd`: amount in USD spent by the respondent
purchasing Blessings of Kamasylve and Secret Books of Old Moon in the pearl shop
* `cm_outfits`: number of outfits purchased on the central market by the
respondent
* `ps_cosmetic_usd`: amount in USD spent by the respondent purchasing cosmetic
items in the pearl shop
* `ps_functional_usd`: amount in USD spent by the respondent purchasing functional
items in the pearl shop

Typically, players in Black Desert Online will consider one character as their
primary character and spend considerably more time on that character than their 
other characters. As such, playtime for the main character and total playtime
were survyed separetely.

There are two methods to purchase premium items in this game: through the
`central market` or through the `pearl shop`. Pearl shop is BDO's cash shop,
accessible to every player, where players could use `pearls`, a currency
converted from real world currencies, to purchase premium items for cosmetic
and functional purposes. Furthermore, players who purchased premium items in
the pearl shop could list these items onto the central market for sale. Other
players could then use `silver`, the primary in-game currency, to purchase
the said premium items. This system serves as a way for some players to obtain
more silver using real world currencies, and for other players to obtain
premium items without ever spending any real world currencies to do so.

There are 3 subscription-esque items in the game: `Value Pack`,
`Blesing of Kamasylve`, and `Secret Book of Old Moon`, henceforth referred to
as `VP`, `BK`, and `OM`. VP existed as an
item since the launch of BDO, and BK and OM
were introduced later on. Each of these 3 items offer
unique bonuses and to players such as shortcuts and quality of life
buffs to certain in-game systems to make them easier to use. Typically,
VPs can be purchased for 30 days, 60 days, and 90 days, and BKs and OMs can
be purchased for 15 days (exceptions occur in bundles and/or event sales 
including the said items). Because of this, these 3 items are usually bought
once or twice per month so that a player can consistently maintain the buffs
they provide. As such, they could be reasonably considered as a
pseudo-subscription model employed by BDO.

Outside of the 3 subscription items, there are other premium items offered in
the pearl shop, some of which are permanent while others are consumables. These
items can be mostly categorized into two types: cosmetic (e.g., character
outfits, home furnitures, dyes, etc) and functional (e.g., camping tent, energy
potions, pets, etc). Most of the cosmetic items can be listed on the central
market just like the subscription items, but functional items are generally
only purchasable through the pearl shop.

## Preliminary Analysis

Table \@ref(tab:table1) showcases a summary of the average spending of the
respondents, categorized into age groups, gender, and whether the respondent
obtained the free package for the game, in USD. Pearl Abyss, the developer and
publisher of BDO, frequently employs events and/or utilize collaborations
with other companies (e.g., twitch prime, anniversary event, etc)
to hand out free packages for the game, which simply
allows a player access to the game but grants no other benefits or items
(Other package tiers grant players various items and benefits).

Already, we observe
that there is a noticeably higher average for spending in the pearl shop 
compared to upfront package purchases.
Note that this difference could be potentially misleading; The large majority
of players do not spend much money in the pearl shop, and the exceedingly high
average pearl shop spending is inflated by a select few players who have
invested massive amounts of real world currency into the game. This issue is
further elaborated upon in Section \@ref(discussion).

```{r table1, echo=FALSE, warning=FALSE, message=FALSE}
# Create summary dataset
# Due to insufficient response counts,
#   remove the "other" gender group for this summary table
summary_tbl <- cleaned_data[-c(47,70,85,103,135),] |>
  group_by(age_group, gender, package_free) |>
  summarise(ps_mean = mean(ps_total),
            packages_mean = mean(packages_usd),
            playtime_mean = mean(playtime_total))

# Use kable to create the table
summary_tbl |>
  kable(
    caption = "Summary of Average Playtime and Spending in Upfront and Cash Shop
      Categories in Black Desert Online",
    col.names = c("Age Group",
                  "Gender",
                  "Has Free Package",
                  "Pearl Shop",
                  "Game Packages",
                  "Avg Playtime (hrs)"),
    digits = 1,
    booktabs = TRUE,
    linesep = ""
  ) |>
  add_header_above(c(" " = 3, "Average Spending (USD)" = 2, " " = 1))

```

Due to having a variety of ways for consumers to spend real world currencies in
BDO, a considerable variation of money spent on the game is expected for
respondents of the survey.
This is demonstrated in Figure \@ref(tab:graph1), where we can see that the
majority of respondents spend less than $1000 USD in the pearl shop, but there
are also quite a few respondents that fall outside of that range by a
substantial amount. 
Note that it is unwise to simply categorize these responses as simple outliers
and exclude them from the dataset, as we must consider the phenomenon of
"whales". This idea is also further explored in Section \@ref(discussion).

```{r graph1, fig.cap="Spending in Pearl Shop in USD",  echo=FALSE, warning=FALSE, message=FALSE, fig.width=8, fig.height=4}
# Create a histogram of spending in pearl shop
cleaned_data |>
  ggplot(aes(x = ps_total, fill = age_group)) +
  geom_histogram(bins = 100) +
  theme_minimal() +
  labs(x = 'Total Spending in Pearl Shop in USD')
```

Figure \@ref(fig:graph9) plots the rated importance of VP, and BK and OM.
We can observe that there is a considerable number of respondents who consider
VP as extremely critical to their enjoyment of the game. At the same time,
we can see a large number of
respondents consider BK and OM largely unimportant to their enjoyment of the
game. This shows that subscription-esque items are not universally regarded
as equally valuable by the respondents.

```{r graph9, fig.cap="Rated Importance of Value Pack, and Blessing of Kamasylve and Secret Book of Old Moon",  echo=FALSE, warning=FALSE, message=FALSE, fig.width=8, fig.height=4}

cleaned_data |>
  ggplot() +
  geom_histogram(aes(x = importance_vp, fill = "VP"), bins = 10, alpha = 0.4) +
  geom_histogram(aes(x = importance_bkom, fill = "BK and OM"), bins = 10, alpha = 0.4) +
  guides(fill=guide_legend(title="Subscription Type", )) +
  labs(x = "Rated Importance of Subscription Items")
```

### Supply and Demand

An important aspect of the central market in BDO is the issue of supply and demand:
Despite being able to list most cosmetic items onto the central market,
there is generally always more demand for these cosmetic items than the supply.
To combat the issue of price inflation, most items that can be listed on the
central market in BDO--including value packs--have a price ceiling as
dictated by the developers of the game. When that price ceiling is reached
(i.e., the highest pre-order price placed for the item is the maximum price point),
any further listings of the item will instead `randomly` choose a player with a
max-priced pre-order placed and sell the item to the said player.

Because of the mechanic described above, an item pre-ordered at its price ceiling
does not follow a first-come first-serve basis and the central market instead relies
on randomness to decide which player to sell the item to. This means for items
with drastically higher demand than supply (such as a value pack), players
are never guaranteed to obtain the item, regardless of how long they have
placed the pre-order for the said item already. This often leads to cases
where a player could place a pre-order for an item for an extensive period of 
time (months or years) yet never successfully purchases the item from the
central market.

Figure \@ref(fig:graph1) showcases this issue: For respondents who claimed
that having a VP active is crucial to their enjoyment of the game, only a few
reported having consistent success purchasing VPs from the central market.
Because of this, respondents could be pressured into relying more 
on purchasing VPs through the pearl shop.

```{r graph2, fig.cap="Rated Importance of Value Pack Versus Number of Value Packs Purchased on Central Market",  echo=FALSE, warning=FALSE, message=FALSE, fig.width=8, fig.height=4}
# Create a graph that showcases the importance of VP vs. number of VP bought
#   from the central market
# Row 6, 24 and 112 seem to be outliers; no discernible reason for someone to purchase
#   enough VPs for more than number of days the game has been released for.
#   Possible input error from the respondent. Regardless, removed for a
#   visually clearer graph
cleaned_data[-c(6,24,112),] |>
  ggplot(aes(x = importance_vp, y = cm_vp_count)) +
  geom_point(size = 1.75, alpha = 0.1, color="red") +
  theme_minimal() +
  labs(x = "Importance of Value Pack to one's Enjoyment of the Game",
       y = "Number of VPs Purchased on Central Market")

```

This line of thinking is echoed by the observations in Table \@ref(fig:graph3),
where the vast majority of respondents report spending a considerable amount
of real world currencies on purchasing VPs through the pearl shop.
For reference, a 30-day value pack in the pearl shop costs 1500 pearls
(the equivalent of $15.00 USD).

```{r graph3, fig.cap="Spending on VPs in Pearl Shop Versus Number of VPs Purchased on Central Market", echo=FALSE, warning=FALSE, message=FALSE, fig.width=8, fig.height=4}
# Row 60 is potential outlier; may have purchased lots of VPs in order to sell
#   them on the central market for silver
cleaned_data[-c(6,24,60,112),] |>
  ggplot(aes(x = ps_vp_usd, y = cm_vp_count)) +
  geom_point(size = 1.75, alpha = 0.1, color="red") +
  theme_minimal() +
  labs(x = "Spending on Value Pack in Pearl Shop (USD)",
       y = "Number of VPs Purchased on Central Market")
```

### Gender of players and Characters

Gender-based appeal is a deep-rooted design pattern in most Korean MMOs.
(`FIND SOME SOURCE FOR THIS SHIT`)
Most cosmetic options are designed to appeal to the general playerbase and often
forfeits any semblance of practicality. This issue is very apparent in female
armor designs in Korean MMOs, and Black Desert Online is generally not an
exception to this. 
There are 13 adult female characters in BDO and 9 adult male characters.
To see if these appeal-based design decisions truly have
any merit behind them, data was collected on the number of adult
female characters that each respondent has. The intent is to compare it with
their spending in cosmetic items, as briefly demonstrated in
Figure \@ref(fig:graph4).

```{r graph4, fig.cap="Number of Female Characters Versus Total Spending", echo=FALSE, warning=FALSE, message=FALSE, fig.width=8, fig.height=4}
# Create a scatterplot on number of female characters versus total spending
cleaned_data |>
  ggplot(aes(x = character_female, y = ps_cosmetic_usd)) +
  geom_point(size = 1.75, alpha = 0.1, color="red") +
  theme_minimal() +
  labs(x = "Number of Adult Female Characters the Respondent has",
       y = "Spending on Cosmetic Items in Pearl Shop (USD)")
```

It can be observed in Figure \@ref(fig:graph5) that there are more respondents
whose main character in BDO is female than male at all age groups. 
This statistic may not
be surprising, given that male respondents similarly dominate all age groups,
as shown in Figure \@ref(fig:graph6). Nevertheless, this may grant some insight
into the targeted audience of Black Desert Online.

```{r graph5, fig.cap="Gender of Main Character Across Age Groups", echo=FALSE, warning=FALSE, message=FALSE, fig.width=8, fig.height=4}

cleaned_data |>
  ggplot() +
  geom_bar(aes(x = age_group, fill = gender_main), position = 'dodge') +
  labs(x = "Age Group", y = "Count")
```

```{r graph6, fig.cap="Gender of Respondent Across Age Groups", echo=FALSE, warning=FALSE, message=FALSE, fig.width=8, fig.height=4}

cleaned_data |>
  ggplot() +
  geom_bar(aes(x = age_group, fill = gender), position = 'dodge') +
  labs(x = "Age Group", y = "Count")
```

\newpage

# Model

Since the dependent variable is continuous, a linear model is considered instead
of a logistic model.
We will be considering both the player's rated importance of VP and BKOM,
the number of female characters they have, and their
total playtime as explanatory variables as part of a multiple linear regression
model.
For the analysis in the rest of this section, the dataset
is split 80%/20% for training/testing purposes. The statistical programming 
language `R` [@citeR] is used to run this model and present the findings from
it.

\begin{equation}
Y = \beta_0 + \beta_1 X_1 + \beta_2 X_2 + \beta_3 X_3 + \beta_4 X_4 (\#eq:linm)
\end{equation}

The general assumption behind the consideration of this model is that
as a player spends more time in BDO, the more likely they are to spend more
real world currencies in exchange for in-game items. This could be due to their
need to continue using subscription-esque items that grant them boosts, or
due to the creation of more content in the game that requires real world
currencies to purchase (such as cosmetic items). Given the context of 
gender-based appeal in Korean MMOs such as BDO, there could also be a connection
between number of female characters and a player's spending in the pearl shop.
The model therefore seeks to explore whether there 
really is a statistically significant connection between the total amount
of money spent in-game and the factors mentioned above. 
Equivalently,

\begin{equation}
H_0: \beta_1 = \beta_2 = \beta_3 = \beta_4 = 0
\end{equation}

Equation \@ref(eq:linm) represents the model used in this paper, where
$Y$, the dependent variable, is a player's total spending in pearl shop,
$\beta_0$ is the intercept, $X_1$ is the covariate of total playtime,
$X_2$ is the covariate of number of female characters the player has.
$X_3$ is the covariate of the player's rated importance of VP.
$X_4$ is the covariate of the player's rated importance of BK and OM.
$\beta_1 \beta_2, \beta_3, \beta_4$ are the coefficients of the variables.

```{r model, fig.cap="Model Diagnostic Plots", echo=FALSE, warning=FALSE, message=FALSE, fig.width=9, fig.height=7}
# Split data into training and testing set
set.seed(6607)
train_samp <- sample(seq_len(nrow(cleaned_data)),
                     size = floor(0.8 * nrow(cleaned_data)))

train <- cleaned_data[train_samp,]
test <- cleaned_data[-train_samp,]

# Run linear model
# treat character_female as a numeric vector
train <- train |>
  mutate(character_female = (as.numeric(character_female)-1))
test <- test |>
  mutate(character_female = (as.numeric(character_female)-1))

lin_model <- lm(ps_total ~ importance_vp + importance_bkom
                + character_female + playtime_total,
                data = train)

# Run diagnostics
par(mfrow = c(2, 2))
plot(lin_model)

# Run another linear model
lin_model2 <- lm(ps_total ~ importance_vp + importance_bkom
                 + character_female + playtime_total,
                data = train[-c(91,62,19),])

lm_sum <- summary(lin_model2)

# Check predictions on testing dataset
linpred <- predict(lin_model2, test, type="response", se.fit = TRUE)
# Check mean squared error
mse <- mean((linpred$fit - test$ps_total)^2)
```

The diagnostic plots of the model are shown in Figure \@ref(fig:model).
The fitted values vs. residuals graph (top-left) shows a roughly horizontal line without
noticeable patterns, which indicated a linear relationship between the dependent
and independent variable.

The Normal Q-Q plot (top-right) shows most points falling on the dashed line,
though there are also a considerable number of points that fall off the dashed line
on the right tail end, suggesting that the residuals may not be entirely normally
distributed.

The Scale-Location plot (bottom-left) shows a red line that is not
horizontal, meaning that the variance of the residual
varies as the fitted value changes
This suggests that there may be a violation of
the homoscedasticity assumption which assumes that variance of
residuals is the same for all X values.
An alternative model with square-root transformation
of the dependent variable was attempted, but heteroscedasticity remained.

Note that points 91, 62 and 19 are all marked as possible outliers in the
three plots mentioned above, suggesting that their inclusion impacts the
linear model greatly. As such, they were removed in the final model.
The diagnostic conclusions remained similar to the ones above after the removal
of the said points.

The residuals vs. leverage plot (bottom-right) identifies two outliers that
greatly exceed the Cook's distance--points 91 and 62--and
one influence point at point 113 The removal of point 66 did not greatly affect
the overall trend shown by the red line in the same plot, thus it was kept in
the final model.

The model is used to predict pearl shop spending using the test dataset and
arrives at a mean squared error value of `967085.46`. This large MSE may be
due to outliers similar to the ones removed during the model diagnostics
section.

# Results

## Model Summary

A summary plot shown in Table \@ref(tab:table2) is generated using the
`modelsummary` package [@citeModelSum] in `R` [@citeR].
Model 1 is the model including the outliers and Model 2 is the final model.

```{r table2, echo=FALSE, warning=FALSE, message=FALSE}
# Create model summary table
modelsummary(list(lin_model, 
                  lin_model2),
             fmt = 2,
             title = "Model Summary of Pearl Shop Spending Based on Rated
             Importance of VP, BK and OM, Number of Female Characters, and
             Total Playtime",
             output = 'markdown')
```

The coefficient estimates shown in Table \@ref(tab:table2) for the final model
is equivalent to the following, shown in Equation \@ref(eq:fitted):

\begin{equation}
\hat{Y_i} = -785.22 + 0.06 X_{1i} + 58.62 X_{2i} + 91.71 X_{3i}
  + 69.28 X_{4i}  (\#eq:fitted)
\end{equation}

Summary of the model shows that only the rated importance of Value Pack and 
the total playtime were statistically significant predictors
at $\alpha=0.01$ significance level. The rated importance of Blessing of
Kamasylve and Secret Book of Old Moon, and the number of female characters were
not statistically significant predictors.

## Character Gender Inequality

As alluded to in Section \@ref(gender-of-players-and-characters), gender-based
aesthetics are a major selling point of Korean MMOs such as BDO.
Figure \@ref(fig:graph7) plots the respondents' total spending in the pearl shop
against the proportion of the said spending contributed to cosmetic items.
The graph shows that on average, a player with a female main
character spends a higher proportion of their pearls on cosmetic items.
Specifically, on average, players with a female main character spends roughly an
additional 9.23% percent of their total pearl shop spending when compared to
players with a male main character.
This implies that for games focused on adding more cosmetic content to their
in-game cash shop, these cosmetics attract more customers if they were created
for female playable characters.

```{r graph7, fig.cap="Cosmetic Spending Versus Functional Spending in Pearl Shop", echo=FALSE, warning=FALSE, message=FALSE, fig.width=8, fig.height=4}

# Create new column that shows proportion of total pearl shop spending on
#   cosmetic items
# Exlucde point 193 as outlier for visually clearer graph
cleaned_data <- cleaned_data |>
  mutate(cos_prop = ps_cosmetic_usd / ps_total)

cleaned_data |>
  ggplot(aes(x=ps_total, y=cos_prop, color=gender_main)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  labs(x = "Total Spending in Pearl Shop (USD)", y = "Proportion of Total
       Spending on Cosmetics")

# Check difference in average cosmetic item proportion
diff.avg.cos.prop <- 
  mean(cleaned_data[cleaned_data$gender_main=="Female"&cleaned_data$ps_total!=0,]$cos_prop) -
  mean(cleaned_data[cleaned_data$gender_main=="Male"&cleaned_data$ps_total!=0,]$cos_prop)
```

## Free Game Package

As shown in Table \@ref(tab:table1), some of the respondents had obtained the
free package for the game, which were frequently given out through various
methods by the developer and publisher of BDO, as described in Section
\@ref(preliminary-analysis). Out of the 67 respondents
who obtained the free package of the game, 23 of them remained completely
free-to-play and did not spend any real world currency to purchase in-game
items nor other game packages.
The other 44 respondents--almost double those who remained completely
free-to-play--either purchased in-game items on the pearl shop or other game
packages.

This is further elaborated upon in Table \@ref(tab:table3), which summarises
the dataset based on whether the respondent's spending status is considered
`completely free` if they obtained the free package for the game and did not
spent money on other game packages nor in the pearl shop, and `partially free`
if they obtained the free package for the game but spent money on other
game packges and/or in the pearl shop.
We can see from Table \@ref(tab:table3) that despite having a lower average
spending in both the pearl shop and game packages, the "partially free" players
still spent a substantial amount of money on further purchases for the game:
On average, for "partially free" respondents,
the amount of money spent on game package purchases accounts for only 6% of
their total spending on BDO. We observe a similar statistic for players who
did not obtain a free package for the game, whose spending on game packages
accounts for only 5% of their total spending on BDO.

```{r table3, echo=FALSE, warning=FALSE, message=FALSE, fig.width=8, fig.height=4}
# create column to mark completely free-to-play respondents
cleaned_data <- cleaned_data |>
  mutate(comp_free = 
           ifelse((package_free==1 & ps_total==0 & packages_usd==0),"yes","no"))

# create column to mark respondents who got the game for free but still 
#   paid for in-game items
cleaned_data <- cleaned_data |>
  mutate(part_free = 
           ifelse((package_free==1 & (ps_total!=0 | packages_usd!=0)),"yes","no"))

summary_tbl2 <- cleaned_data |>
  group_by(comp_free, part_free) |>
  summarise(ps_mean = mean(ps_total),
            packages_mean = mean(packages_usd),
            pack_ps_percent = mean(packages_usd)/(mean(ps_total)+mean(packages_usd)),
            vp_ps_percent = mean(ps_vp_usd)/(mean(ps_total)+mean(packages_usd)),
            bkom_ps_percent = mean(ps_bkom_usd)/(mean(ps_total)+mean(packages_usd)))

# Use kable to create the table
summary_tbl2 |>
  kable(
    caption = "Summary of Average Playtime and Spending in Upfront and Cash Shop
      Categories in Black Desert Online Based On Free Package Acquisition",
    col.names = c("Completely Free",
                  "Partially Free",
                  "Pearl Shop",
                  "Packages",
                  "Packages",
                  "VP",
                  "BKOM"),
    digits = 2,
    booktabs = TRUE,
    linesep = ""
  ) |>
  add_header_above(c("Spending Status" = 2,
                     "Average Spending (USD)" = 2,
                     "Average Proportion of Total Spending" = 3))
```

## Subscription Items

As discussed in \@ref(preliminary-analysis), Figure \@ref(fig:graph9) suggests
a difference in importance as regarded by the respondents. This is supported
by the statistics shown in Figure \@ref(fig:graph8), which show a stronger
positive linear correlation between rated importance of VP and spending on
VP when compared to the correlation between rated importance of BK and OM and
spending on BK and OM. On average, respondents spend $148.0288 USD on
purchasing VP from the pearl shop, and spend $49.1202 USD on purchasing
BK and OM from the pearl shop.

Table \@ref(tab:table3) shows that on average, VP accounts for 11% of
a respondent's total spending on BDO (15% for partially free respondents).
BK and OM accounts for 4% of a respondent's total spending on BDO (5% for
partially free respondents).

```{r graph8, fig.cap="Rated Importance of Subscription Items Versus Spending on the Said Items",  echo=FALSE, warning=FALSE, message=FALSE, fig.width=8, fig.height=4}
# Create scatterplot for rated importance of VP vs. USD spent on VP
# Remove row 60 for a visually clearer graph
plot1 <- cleaned_data[-60,] |>
  ggplot(aes(x = importance_vp, y = ps_vp_usd)) +
  geom_point(size = 1.75, alpha = 0.1, color="red") +
  geom_smooth(method = "lm", se = FALSE) +
  theme_minimal() +
  labs(x = "Importance of VP",
       y = "Spending on VP in Pearl Shop (USD)")

# Create scatterplot for rated importance of VP vs. USD spent on VP
plot2 <- cleaned_data |>
  ggplot(aes(x = importance_vp, y = ps_vp_usd)) +
  geom_point(size = 1.75, alpha = 0.1, color="red") +
  geom_smooth(method = "lm", se = FALSE) +
  theme_minimal() +
  labs(x = "Importance of BK and OM",
       y = "Spending on BK and OM in Pearl Shop (USD)")

plot_grid(plot1, plot2)

mean_vp <- mean(cleaned_data$ps_vp_usd)
mean_bkom <- mean(cleaned_data$ps_bkom_usd)
```

\newpage

# Discussion

## Free Game Versus Upfront Cost

The statistics presented in Table \@ref(tab:table3) suggests that
the amount of revenue obtained from game package purchases is relatively
minuscule compared to other sources of income. Therefore, publishers of
MMORPGs should forgo charging an upfront fee for their games in order to draw
in more players so that they can browse the much more profitable in-game cash
shop instead.

TODO; speculations as to why we saw a particular trend, its implications.
Limitations. Further Directions.

\newpage

\appendix

# Appendix {-}

\newpage

# References


